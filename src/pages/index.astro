---
import Layout from '../layouts/Layout.astro';
import { getBlogPosts } from '../lib/contentful';

const posts = await getBlogPosts();
const latestPosts = posts.slice(0, 3); // Get up to 3 most recent posts
---

<Layout title="Justice & Associates - Personal Injury Attorneys">
  <section class="relative bg-gray-900 text-white py-24 overflow-hidden">
    <div class="absolute inset-0 z-0 opacity-20 bg-[url('/images/hero-bg.jpg')] bg-cover bg-center"></div>
    <div class="container mx-auto px-6 relative z-10">
      <div class="max-w-3xl">
        <span class="inline-block bg-blue-600 text-white px-4 py-1 rounded-full text-sm font-semibold mb-6">TRUSTED LEGAL REPRESENTATION</span>
        <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">Fighting for <span class="text-blue-400">Your Rights</span> & Justice</h1>
        <p class="text-xl mb-10 text-gray-300">Experienced personal injury attorneys with a proven track record of securing the compensation our clients deserve.</p>
        <div class="flex flex-wrap gap-4">
          <a href="/contact" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg inline-block transition-all duration-300 shadow-lg hover:shadow-xl">Free Consultation</a>
          <a href="/practice-areas" class="border border-white hover:bg-white hover:text-gray-900 text-white font-bold py-4 px-8 rounded-lg inline-block transition-all duration-300">Our Services</a>
        </div>
      </div>
    </div>
    <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-900 to-transparent"></div>
  </section>

  <section class="py-16">
    <div class="container mx-auto px-6">
      <h2 class="text-3xl font-bold text-center mb-12">Our Practice Areas</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="bg-white p-6 rounded-lg shadow-lg">
          <h3 class="text-xl font-semibold mb-4">Car Accidents</h3>
          <p class="text-gray-600 mb-4">Expert representation for victims of automobile accidents.</p>
          <a href="/practice-areas#car-accidents" class="text-blue-600 hover:text-blue-800">Learn More →</a>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg">
          <h3 class="text-xl font-semibold mb-4">Workplace Injuries</h3>
          <p class="text-gray-600 mb-4">Protecting workers' rights and ensuring fair compensation.</p>
          <a href="/practice-areas#workplace-injuries" class="text-blue-600 hover:text-blue-800">Learn More →</a>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg">
          <h3 class="text-xl font-semibold mb-4">Medical Malpractice</h3>
          <p class="text-gray-600 mb-4">Hold healthcare providers accountable for negligence.</p>
          <a href="/practice-areas#medical-malpractice" class="text-blue-600 hover:text-blue-800">Learn More →</a>
        </div>
      </div>
    </div>
  </section>

  <section class="bg-blue-700 py-16 relative overflow-hidden">
    <div class="absolute inset-0 opacity-10">
      <div class="absolute inset-0 bg-[url('/images/pattern.svg')] bg-repeat"></div>
    </div>
    <div class="container mx-auto px-6 relative z-10">
      <div class="flex flex-col md:flex-row items-center justify-between gap-8">
        <div class="md:w-2/3">
          <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Get the Legal Support You Deserve</h2>
          <p class="text-blue-100 text-lg">Our experienced attorneys are ready to fight for your rights. Schedule a free consultation today.</p>
        </div>
        <div>
          <a href="/contact" class="inline-block bg-white text-blue-700 hover:bg-blue-50 font-bold py-4 px-8 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl text-center whitespace-nowrap">Free Case Evaluation</a>
        </div>
      </div>
    </div>
  </section>

  <section class="bg-gray-100 py-16">
    <div class="container mx-auto px-6">
      <h2 class="text-3xl font-bold text-center mb-12">Why Choose Us</h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-4">25+</div>
          <p class="text-gray-600">Years of Experience</p>
        </div>
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-4">$100M+</div>
          <p class="text-gray-600">Recovered for Clients</p>
        </div>
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-4">1000+</div>
          <p class="text-gray-600">Cases Won</p>
        </div>
        <div>
          <div class="text-4xl font-bold text-blue-600 mb-4">99%</div>
          <p class="text-gray-600">Success Rate</p>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 bg-white">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <span class="inline-block bg-blue-100 text-blue-600 px-4 py-1 rounded-full text-sm font-semibold mb-3">TESTIMONIALS</span>
        <h2 class="text-3xl font-bold">What Our Clients Say</h2>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Testimonial 1 -->
        <div class="bg-gray-50 p-8 rounded-lg shadow-md relative">
          <div class="absolute -top-5 left-8 text-blue-500 text-5xl">"</div>
          <p class="text-gray-700 mb-6 pt-3 relative z-10">After my car accident, I was overwhelmed with medical bills and insurance claims. Justice & Associates guided me through the entire process and secured a settlement that covered all my expenses.</p>
          <div class="flex items-center">
            <div class="w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center text-blue-700 font-bold text-xl mr-4">JD</div>
            <div>
              <h4 class="font-semibold">John Doe</h4>
              <p class="text-gray-500 text-sm">Car Accident Client</p>
            </div>
          </div>
        </div>
        
        <!-- Testimonial 2 -->
        <div class="bg-gray-50 p-8 rounded-lg shadow-md relative">
          <div class="absolute -top-5 left-8 text-blue-500 text-5xl">"</div>
          <p class="text-gray-700 mb-6 pt-3 relative z-10">The team at Justice & Associates fought tirelessly for my workplace injury case. Their expertise and dedication resulted in a settlement far beyond what I expected.</p>
          <div class="flex items-center">
            <div class="w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center text-blue-700 font-bold text-xl mr-4">JS</div>
            <div>
              <h4 class="font-semibold">Jane Smith</h4>
              <p class="text-gray-500 text-sm">Workplace Injury Client</p>
            </div>
          </div>
        </div>
        
        <!-- Testimonial 3 -->
        <div class="bg-gray-50 p-8 rounded-lg shadow-md relative">
          <div class="absolute -top-5 left-8 text-blue-500 text-5xl">"</div>
          <p class="text-gray-700 mb-6 pt-3 relative z-10">When medical malpractice affected my family, we turned to Justice & Associates. Their compassionate approach and legal expertise made a difficult time much easier to navigate.</p>
          <div class="flex items-center">
            <div class="w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center text-blue-700 font-bold text-xl mr-4">RJ</div>
            <div>
              <h4 class="font-semibold">Robert Johnson</h4>
              <p class="text-gray-500 text-sm">Medical Malpractice Client</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center mt-12">
        <a href="/contact" class="inline-flex items-center text-blue-600 font-semibold hover:text-blue-800 transition-colors">
          Share Your Story
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
          </svg>
        </a>
      </div>
    </div>
  </section>

  <section class="py-16">
    <div class="container mx-auto px-6">
      <h2 class="text-3xl font-bold text-center mb-12">Latest from Our Blog</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {latestPosts.map((post) => {
          const imageUrl = post.featuredImage?.fields?.file?.url;
          const authorImage = post.author?.fields?.image?.fields?.file?.url;
          const authorName = post.author?.fields?.name;
          const authorTitle = post.author?.fields?.title;

          return (
            <article class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
              {imageUrl && (
                <img 
                  src={`https:${imageUrl}?w=800&h=400&fit=fill`}
                  alt={post.title}
                  class="w-full h-48 object-cover"
                />
              )}
              <div class="p-6">
                <h3 class="text-xl font-semibold mb-2 hover:text-blue-600 transition-colors">
                  <a href={`/blog/${post.slug}`}>
                    {post.title}
                  </a>
                </h3>
                <p class="text-gray-600 mb-4">{post.excerpt}</p>
                
                {authorName && (
                  <div class="flex items-center pt-4 border-t border-gray-100">
                    {authorImage && (
                      <img 
                        src={`https:${authorImage}?w=40&h=40&fit=fill`}
                        alt={authorName}
                        class="w-10 h-10 rounded-full mr-3"
                      />
                    )}
                    <div>
                      <p class="font-semibold text-sm">{authorName}</p>
                      {authorTitle && (
                        <p class="text-sm text-gray-600">{authorTitle}</p>
                      )}
                    </div>
                  </div>
                )}
              </div>
            </article>
          );
        })}
        {latestPosts.length === 0 && (
          <div class="col-span-3 text-center py-12 text-gray-500">
            No blog posts available yet.
          </div>
        )}
      </div>
    </div>
  </section>
</Layout>
